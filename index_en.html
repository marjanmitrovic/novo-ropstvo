<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>New Slavery — official page</title>
  <meta name="description" content="Official page of the novel New Slavery. Read an excerpt, buy the EPUB, support the author." />
  <meta property="og:title" content="New Slavery — novel" />
  <meta property="og:description" content="Read an excerpt, buy the EPUB, support the author." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/CoverEN.png" />
  <meta property="og:url" content="/" />
  <link rel="icon" href="images/CoverEN.png" />
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; }
    img { max-width: 100%; height: auto; display: block; }
    a { text-decoration: none; color: inherit; }

    :root {
      --bg: #f8f8f8;
      --text: #1a1a1a;
      --muted: #6b7280;
      --card: #ffffff;
      --border: #e5e7eb;
      --btn: #111827;
      --btn-text: #ffffff;
      --accent: #0ea5e9;
    }
    html.dark {
      --bg: #0b0c0e;
      --text: #e6e7e9;
      --muted: #9aa0a6;
      --card: #111214;
      --border: #23262a;
      --btn: #e6e7e9;
      --btn-text: #0b0c0e;
      --accent: #38bdf8;
    }

    body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
    .container { width: min(1100px, 92vw); margin: 0 auto; }
    header { position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(140%) blur(6px); border-bottom: 1px solid var(--border); background: color-mix(in srgb, var(--bg) 85%, transparent); }
    .nav { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; }
    .nav-actions { display:flex; align-items:center; gap: 10px; }
    .btn, .chip { cursor: pointer; border: 1px solid var(--border); background: var(--btn); color: var(--btn-text); padding: 10px 14px; border-radius: 12px; font-weight: 600; }
    .chip { background: var(--card); color: var(--text); }
    .chip[aria-current="true"] { border-color: var(--text); }
    .icon-btn { background: var(--card); color: var(--text); border: 1px solid var(--border); padding: 8px 10px; border-radius: 12px; display:inline-flex; align-items:center; gap:8px; }

    main { padding: 36px 0 60px; }
    .hero { display:grid; grid-template-columns: 1.1fr 1fr; gap: 32px; align-items: center; padding: 28px 0 8px; }
    .cover-card { background: var(--card); border: 1px solid var(--border); padding: 16px; border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.08); }
    .cover-img { width: 100%; border-radius: 12px; aspect-ratio: 2/3; object-fit: cover; }

    .hero h1 { font-size: clamp(28px, 4.4vw, 48px); margin: 0 0 8px; }
    .hero p { color: var(--muted); margin: 0 0 20px; }
    .cta { display:flex; gap: 10px; flex-wrap: wrap; }
    .btn-outline { background: var(--card); color: var(--text); border: 1px solid var(--border); }

    .grid { display:grid; grid-template-columns: repeat(12, 1fr); gap: 16px; margin-top: 40px; }
    .card { grid-column: span 12; background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 18px; }
    .card h3 { margin: 0 0 6px; }
    .card p { margin: 0; color: var(--muted); }

    @media (min-width: 860px) { .card--half { grid-column: span 6; } }
    footer { border-top: 1px solid var(--border); padding: 24px 0 40px; margin-top: 40px; color: var(--muted); font-size: 14px; }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a href="index_en.html" aria-label="Home">
        <img src="images/CoverEN.png" alt="Cover small" style="height:48px; border-radius:6px;" />
      </a>
      <div class="nav-actions">
        <nav aria-label="Language" class="lang-switch" style="display:flex; gap:6px;">
          <a class="chip" href="index.html" lang="sr">SR</a>
          <a class="chip" href="index_en.html" lang="en" aria-current="true">EN</a>
          <a class="chip" href="index_cz.html" lang="cs">CZ</a>
        </nav>
        <a class="btn" href="galerija_en.html">Gallery</a>
        <button id="themeToggle" class="icon-btn" type="button"><span id="themeLabel">Dark mode</span></button>
        <a class="btn" href="placanje_en.html">Buy EPUB</a>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="cover-card">
        <img class="cover-img" src="images/CoverEN.png" alt="Cover of the novel New Slavery" />
      </div>
      <div>
        <h1>NEW SLAVERY</h1>
        <p>A novel about workers, exhaustion, and resistance. Factory corridors, personal struggles, and the crushing spirit of the times. Written by Marjan Mitrović.</p>
        <div class="cta">
          <a class="btn" href="placanje_en.html">Buy EPUB</a>
          <a class="btn btn-outline" href="odlomak_en.html">Read excerpt</a>
        </div>
      </div>
    </section>

    <section class="grid">
      <article class="card card--half">
        <h3>About the book</h3>
        <p>A multilayered story of class struggle and the aftermath of transition — written in a modern, cinematic style.</p>
      </article>
      <article class="card card--half">
        <h3>Format</h3>
        <p>Digital edition (EPUB). After payment you receive a personalized copy with watermark.</p>
      </article>
    </section>

   <section id="contact" class="grid">
  <article class="card">
    <h2>Contact</h2>
    <form id="contactForm">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
        <div>
          <label>Name</label>
          <input name="name" placeholder="Your name" required>
        </div>
        <div>
          <label>E-mail</label>
          <input type="email" name="email" placeholder="your@email.com" required>
        </div>
      </div>
      <label style="margin-top:10px;display:block">Message</label>
      <textarea name="message" placeholder="Write your message…" rows="5" required></textarea>

      <input class="hp" name="_gotcha" tabindex="-1" autocomplete="off" style="display:none">

      <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn" type="submit">Send</button>
        <a id="mailto" href="#" class="note">…or use your email client</a>
      </div>
      <div class="msg" id="msg"></div>
    </form>
    <p class="note" style="margin-top:8px">We usually reply promptly.</p>
  </article>
</section>

<script>
window.FORMSPREE_URL="https://formspree.io/f/xyzpljrg";
const f=document.getElementById('contactForm'),m=document.getElementById('msg'),mailto=document.getElementById('mailto');
function setMailto(){const d=new FormData(f),from=(d.get('email')||''),name=(d.get('name')||''),body=(d.get('message')||'');mailto.href=`mailto:marjan.posao@gmail.com?subject=${encodeURIComponent("Website message — New Slavery")}&body=${encodeURIComponent(`Name: ${name}\nEmail: ${from}\n\n${body}`)}`;}
['input','change'].forEach(ev=>f.addEventListener(ev,setMailto));setMailto();
f.addEventListener('submit',async e=>{e.preventDefault();m.textContent="⏳ Sending…";const d=new FormData(f);if(d.get('_gotcha')){m.textContent="❌ Error.";return;}try{const r=await fetch(window.FORMSPREE_URL,{method:"POST",body:d,headers:{"Accept":"application/json"}});if(r.ok){m.textContent="✅ Message sent.";f.reset();setMailto();}else{m.textContent="❌ Sending failed."}}catch{m.textContent="❌ Network error.";}}); 
</script>

  </main>

  <footer>
    <div class="container">© <span id="year"></span> New Slavery. All rights reserved.</div>
  </footer>

  <script>
    (function initTheme(){
      const saved = localStorage.getItem('theme');
      const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = saved || (systemDark ? 'dark':'light');
      document.documentElement.classList.toggle('dark', theme==='dark');
      document.documentElement.setAttribute('data-theme', theme);
    })();

    function updateToggleUI(){
      const isDark = document.documentElement.classList.contains('dark');
      document.getElementById('themeLabel').textContent = isDark ? 'Light mode' : 'Dark mode';
    }
    document.getElementById('themeToggle').addEventListener('click', ()=>{
      const root = document.documentElement;
      const nowDark = !root.classList.contains('dark');
      root.classList.toggle('dark', nowDark);
      root.setAttribute('data-theme', nowDark?'dark':'light');
      localStorage.setItem('theme', nowDark?'dark':'light');
      updateToggleUI();
    });
    updateToggleUI();
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
