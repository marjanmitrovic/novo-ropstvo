<!DOCTYPE html>
<html lang="sr">
<head>
<link rel="alternate" href="https://novo-ropstvo.github.io/novo-ropstvo/index.html" hreflang="sr" />
<link rel="alternate" href="https://novo-ropstvo.github.io/novo-ropstvo/index_en.html" hreflang="en" />
<link rel="alternate" href="https://novo-ropstvo.github.io/novo-ropstvo/index_cz.html" hreflang="cs" />

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Novo ropstvo — Galerija</title>
<link rel="icon" href="images/Cover.png">
<style>
  :root{--bg:#0b0c0e;--text:#e6e7e9;--muted:#9aa0a6;--card:#111214;--border:#23262a;--accent:#38bdf8}
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;background:var(--bg);color:var(--text)}
  .container{width:min(1100px,92vw);margin:0 auto}
  header{position:sticky;top:0;z-index:10;backdrop-filter:blur(6px);border-bottom:1px solid var(--border);background:color-mix(in srgb,var(--bg) 85%, transparent)}
  .nav{display:flex;justify-content:space-between;align-items:center;padding:14px 0}
  .btn{border:1px solid var(--border);background:#0f172a;color:#fff;padding:8px 14px;border-radius:12px;text-decoration:none;font-weight:600}
  .chip{border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 12px;border-radius:12px;text-decoration:none}
  .chip[aria-current="true"]{border-color:var(--text)}
  main{padding:24px 0 48px}
  h1{font-size:28px;margin:0 0 12px}
  .lede{color:var(--muted);margin:0 0 18px}

  /* Grid */
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
  .card{position:relative;background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden}
  .card img{display:block;width:100%;height:180px;object-fit:cover;transition:transform .2s ease}
  .card:hover img{transform:scale(1.03)}
  .cap{position:absolute;left:8px;bottom:8px;background:rgba(0,0,0,.45);padding:2px 8px;border-radius:8px;font-size:.85rem}

  /* Lightbox */
  .lb{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;place-items:center;z-index:50}
  .lb.open{display:grid}
  .lb img{max-width:min(92vw,1200px);max-height:90vh;border-radius:12px;border:1px solid #222;background:#000}
  .lb .close,.lb .prev,.lb .next{
    position:absolute;top:16px;background:rgba(255,255,255,.12);border:1px solid #333;color:#fff;
    padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700
  }
  .lb .close{right:16px}
  .lb .prev{left:16px;bottom:16px;top:auto}
  .lb .next{right:16px;bottom:16px;top:auto}
</style>
</head>
<body>
<header>
  <div class="container nav">
    <a href="index.html"><img src="images/Cover.png" alt="Korica" style="height:48px;border-radius:6px"></a>
    <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
      <nav aria-label="Jezik" style="display:flex;gap:6px">
        <a class="chip" href="galerija.html" aria-current="true">SR</a>
        <a class="chip" href="galerija_en.html">EN</a>
        <a class="chip" href="galerija_cz.html">CZ</a>
      </nav>
      <a class="chip" href="index.html">Početna</a>
      <a class="chip" href="odlomak.html">Odlomak</a>
      <a class="btn" href="placanje.html">Kupi EPUB</a>
      <a href="donacije.html" class="btn">Donacije</a>

    </div>
  </div>
</header>

<main class="container">
  <h1>Galerija</h1>
  <p class="lede">Skice i ilustracije. Klikni na sliku da je uvećaš.</p>

  <div id="gallery" class="grid" role="list"></div>
</main>

<!-- Lightbox -->
<div id="lightbox" class="lb" aria-hidden="true">
  <button class="close" aria-label="Zatvori">✕</button>
  <button class="prev" aria-label="Prethodna">←</button>
  <img alt="Uvećana slika">
  <button class="next" aria-label="Sledeća">→</button>
</div>

<script>
  // Podesi opseg i putanju (menjaj ovde ako treba)
  const IMG_PATH = 'images';
  const START = 1, END = 30;

  const gallery = document.getElementById('gallery');
  const items = [];
  for (let i = START; i <= END; i++) {
    const src = `${IMG_PATH}/skica${i}.png`;
    items.push(src);
    const card = document.createElement('a');
    card.href = src;
    card.className = 'card';
    card.setAttribute('role','listitem');
    card.innerHTML = `
      <img src="${src}" alt="Skica ${i}" loading="lazy">
      <span class="cap">#${i}</span>
    `;
    card.addEventListener('click', (e) => { e.preventDefault(); openLb(i-1); });
    gallery.appendChild(card);
  }

  // Lightbox
  const lb = document.getElementById('lightbox');
  const lbImg = lb.querySelector('img');
  const btnClose = lb.querySelector('.close');
  const btnPrev = lb.querySelector('.prev');
  const btnNext = lb.querySelector('.next');
  let idx = 0;

  function openLb(i){ idx = i; lbImg.src = items[idx]; lb.classList.add('open'); lb.setAttribute('aria-hidden','false'); }
  function closeLb(){ lb.classList.remove('open'); lb.setAttribute('aria-hidden','true'); lbImg.src=''; }
  function prev(){ idx = (idx - 1 + items.length) % items.length; lbImg.src = items[idx]; }
  function next(){ idx = (idx + 1) % items.length; lbImg.src = items[idx]; }

  btnClose.onclick = closeLb; btnPrev.onclick = prev; btnNext.onclick = next;
  lb.addEventListener('click', (e)=>{ if(e.target===lb) closeLb(); });
  window.addEventListener('keydown', (e)=>{
    if(!lb.classList.contains('open')) return;
    if(e.key==='Escape') closeLb();
    if(e.key==='ArrowLeft') prev();
    if(e.key==='ArrowRight') next();
  });
</script>
</body>
</html>
